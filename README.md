# README для калькулятора на Go

Этот проект представляет собой простой веб-калькулятор, реализованный на языке Go, который принимает выражения через POST-запросы и возвращает результаты их вычисления.

# Установка

1. Установите библиотеку godotenv:

```
go get github.com/joho/godotenv
```

2. Создайте файл `.env` в корне проекта и укажите порт используя ключ **PORT** (по умолчанию 8080).

# Использование

Калькулятор принимает POST-запросы с типом контента `application/json`.

Тело запроса должно выглядеть следующим образом:

```
{"expression": "выражение"}
```

Запуск приложения:

```
go run cmd/main.go
```

Пример отправки запроса с помощью curl:

```
curl -X POST -H "Content-Type: application/json" -d "{\"expression\":\"(1+2)*5\"}" http://localhost:8080
```

# Обработка ошибок

- Если метод запроса отличается от POST, отправляется ошибка 405.

- Если не удалось преобразовать запрос из формата JSON, будет ошибка 500.

- Если выражение пустое, отправляется ошибка 400.

- Если в выражении обнаружены _странные_ символы (отличные от 0-9 / \* - + ()), отправляется ошибка 422.

- Если после прохождения middleware происходит ошибка при вычислении, отправляется ошибка со статусом 422 и ее описанием.

- Если ошибка не подходит ни под какую из установелнных, отправляется ошибка 500.

Пример ответа с ошибкой:

```
{"status":400,"error":"получен пустой запрос"}
```

# Успешный ответ

Если ошибки не возникает, отправляется ответ c округлением до сотых и со статусом 200 и пустым полем ошибки:

```
{"status":200,"result":15}
```
