# Calc Service: Распределенная система для вычисления математических выражений

## Описание

Calc Service - это распределенная система, предназначенная для вычисления сложных математических выражений. Она состоит из следующих компонентов:

*   **Web Service:** Предоставляет API для взаимодействия с пользователем. Позволяет отправлять выражения на вычисление и получать результаты.
*   **Orchestrator:** Координирует процесс вычисления, разбивая сложные выражения на простые задачи и распределяя их между агентами.
*   **Agent:** Выполняет отдельные математические задачи, полученные от оркестратора, и возвращает результаты.

## Архитектура
```
calc_2/
├── cmd/
│   └── main.go                   // Точка входа приложения.
│      
├── pkg/
│   ├── logger/
│   │   └── logger.go             // Логирует сообщения.
│   └── operators/
│       └── operators.go          // Символы математических операций.
│
├── config/
│   ├── config.go                 // Загружает и обрабатывает конфигурации.
│   ├── dev.yaml                  // Конфигурация для разработки.
│   └── prod.yaml                 // Конфигурация для production.
│
├── web/
│   ├── web.go                    // Точка входа Веб Сервиса.
│   ├── internal/
│   │   ├── router/
│   │   │    └── router.go        // Маршруты Веб Сервиса
│   │   └── handlers/
│   │       └── handlers.go       // Обработчики запросов Веб Сервису
│   └── static/
│       ├── index.html            // Основной файл интерфейса.
│       ├── favicon.ico           // Иконка, отображаемая в браузере.
│       ├── script.js             // JavaScript код интерфейса.
│       └── style.css             // CSS стили интерфейса.
│
├── agent/
│   └── agent.go                  // Точка входа Агента. 
│
└── orchestrator/
    ├── orchestrator.go           // Точка входа Оркестратора. 
    └── internal/
        ├── handlers/
        │   └── handlers.go       // Обрабатывает запросы Оркестратору
        ├── models/
        │   ├── expression.go     // Структуры данных выражения.
        │   └── task.go           // Структуры данных задач.
        ├── router/
        │   └── router.go         // Маршруты Окестратора
        ├── task_manager/
        │   └── task_manager.go   // Управляет задачами
        └── task_splitter/
            └── task_splitter.go  // Разбивает выражение на задачи
```
## Запуск проекта

1.  Клонируйте репозиторий:

    ```bash
    git clone https://github.com/OinkiePie/calc_2.git
    cd calc_service
    ```

2.  Запустите сервисы с помощью единой точки входа команды:

    ```bash
    go run ./cmd/main.go
    ```


## Использование

### 1. Отправка выражения на вычисление

Для отправки математического выражения на вычисление используйте следующий запрос `curl`:

```bash
curl --location 'http://localhost:8082/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": "2+2*2"
}'